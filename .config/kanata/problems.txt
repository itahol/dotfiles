Problem
The main issue with home row mods is the unintended activation of modifiers. When typing quickly, I sometimes press keys together like a piano chord instead of tapping and releasing keys individually like distinct notes on a piano scale. This can activate home row mods and trigger unwanted shortcuts on my computer, such as launching an app, closing a window, or sending an unfinished e-mail. ğŸ˜±

Over time, the negative feedback from these misfires has trained me to type more slowly and thoughtfully, burdening my mind with uncertainty that impedes my natural typing rhythm and unconscious flow of thoughts onto the computer screen.

Same-hand chords
When typing the word â€œclockâ€ in the Engram layout, I tend to chord â€œckâ€ by first holding down â€œcâ€ with my left pinky finger, tapping â€œkâ€ with my left index finger, and finally releasing them both simultaneously or in the reverse order.


Miryokuâ€™s experimental â€œbilateral combinationsâ€ feature attempts to solve this problem by suppressing home row mods for chords that begin and end on the same side of the keyboard. This way, it only affects home row mods for chords that cross over to the other side of the keyboard; so theyâ€™re bilateral combinations.

However, it has a longstanding bug called â€œflashing modsâ€ where the Super key would always be sent to the computer for same-hand chords, even though their home row mods should be suppressed. This makes me accidentally trigger the Start Menu when typing words like â€œclockâ€ and â€œsockâ€ due to my â€œckâ€ chording tendency.

With sleepless determination, I recently fixed this and contributed a patch.

Dual-hand chords
When typing the word â€œendâ€ in the Engram layout, I tend to chord the entire word by first holding down â€œeâ€ with my left middle finger and then holding down â€œnâ€ with right pinky finger, before finally tapping â€œdâ€ with my right middle finger. The first two keys essentially form a stable base from which the third can be reached. Similarly, I chord â€œestâ€ in the same way when typing the word â€œbestâ€.


Thanks to the increased typing speed made possible by my â€œflashing modsâ€ patch for same-hand chords, I was able to make the above observations which revealed a blind spot in Miryokuâ€™s bilateral combinations concept: it only intercepts same-hand home row mods and completely ignores the dual-handed ones!

This seemed like the key to solving the problem, so I plunged in with more sleepless determination and created a new feature called â€œcrossoverâ€ bilateral combinations to intercept fast â€œrollsâ€ that cross over the left/right boundary.

Typing streaks
When typing the word â€œstressâ€ in the Engram layout, I tend to chord the end of the word (after typing â€œstrâ€) by first holding down â€œeâ€ with my left middle finger and then tapping â€œsâ€ with right ring finger twice. If done too slowly, this will trigger the â€œesâ€ bilateral combination (which sends the Ctrl-S shortcut to the computer, in my case) instead of tapping â€œeâ€ and â€œsâ€ separately.


There is a brilliant solution to this problem in ZMKâ€™s global-quick-tap feature, which cleverly suppresses modifiers during periods of active typing. For instance, in the example above, I tap â€œrâ€ immediately before the â€œesâ€ chord: thus, by measuring the amount of time that has passed between the tap and chord, we can detect whether the chord occurred within a typing streak and suppress it!
